<pa-badge class="content-type" [isAccented]="true" hexaColor="#FF4400">{{ context['@type'] }}</pa-badge>
<h2>{{ context.title }}</h2>
<div>
    <h3>Behaviors</h3>
    <div *ngIf="availableBehaviors">
        <pa-select placeholder="Enable behavior…" (selection)="addBehavior($event)" [options]="availableBehaviors">
        </pa-select>
    </div>
    <section *ngIf="availableBehaviors">
        <ng-container *ngFor="let behavior of behaviors">
            <h4>{{ behavior }}</h4>
            <div *ngFor="let field of context[behavior] | keyvalue">
                <legend>{{ field.key }}</legend> {{ field.value || '–' }}
            </div>
        </ng-container>
    </section>
</div>
<div *ngIf="context.is_folderish">
    <h3>Contents</h3>
    <div *ngIf="context['@type'] === 'Container' || context['@type'] === 'Folder'">
        <pa-select placeholder="Add new content…" (selection)="addItem($event)" [options]="types">
        </pa-select>
    </div>
    <ul *ngIf="context.items">
        <li *ngFor="let item of context.items">
            <a [traverseTo]="item['@id']">{{ item['@name']}}</a>
            <button (click)="deleteItem(item['@id'])">Delete</button>
        </li>
    </ul>
</div>
